{"code":"import particleAPI from './particleAPI';\r\nclass Engine {\r\n    constructor(numberOfParticles) {\r\n        this.setParticlesParams = (cb) => {\r\n            for (let i = 0; i < this.numberOfParticles; i++) {\r\n                const api = particleAPI(i, this.positionData, this.physicsData);\r\n                cb(i, api);\r\n            }\r\n        };\r\n        this.numberOfParticles = numberOfParticles;\r\n        this.initializeEngine();\r\n    }\r\n    initializeEngine() {\r\n        const positionBuffer = new ArrayBuffer(this.numberOfParticles * 2 * 4);\r\n        const physicsBuffer = new ArrayBuffer(this.numberOfParticles * 5 * 4);\r\n        this.uint8ViewOnPositionData = new Uint8Array(positionBuffer);\r\n        this.positionData = new Float32Array(positionBuffer);\r\n        this.physicsData = new Float32Array(physicsBuffer);\r\n        // set mass of all particles to 1\r\n        for (let i = 0; i < this.numberOfParticles; i++) {\r\n            this.physicsData[i * 5] = 1;\r\n        }\r\n    }\r\n}\r\nexport default Engine;\r\n"}
